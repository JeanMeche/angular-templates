@if (!hydration.disabled) {
  <ec-hydration-visualizer trigger="interaction">
    @defer (on immediate; hydrate on interaction) {
      <ec-search-section ecHydrationTarget></ec-search-section>
    }
  </ec-hydration-visualizer>
} @else {
  @defer {
    <ec-search-section></ec-search-section>
  }
}
@for (category of categories(); track category.id; let i = $index) {
  @if (!hydration.disabled) {
    <ec-hydration-visualizer trigger="hover">
      @defer (on immediate; hydrate on hover) {
        <ec-category-reel
          ecHydrationTarget
          [category]="category"
          [isLcp]="i === 0"
        ></ec-category-reel>
      }
    </ec-hydration-visualizer>
  } @else {
    @defer {
      <ec-category-reel
        [category]="category"
        [isLcp]="i === 0"
      ></ec-category-reel>
    } @placeholder {
      <ec-category-reel-skeleton></ec-category-reel-skeleton>
    }
  }
}
