<div class="conversation-wrapper">
  <div #conversation class="conversation">
    @if (!loading()) {
      @for (q of queries(); track q.id) {
        <div class="pair">
          <p>User: {{ q.message }}</p>
          @if (q.response) {
            <p>Bot: {{ q.response }}</p>
          } @else {
            <p>Bot: ... thinking ...</p>
          }
        </div>
      } @empty {
        <p>Start a chat ...</p>
      }
      @if (chat() && chat()!.totalQueries > queries().size) {
        <ngx-infinite-scroll
          [scrollCont]="conversation"
          (loadNext)="loadNextPage($event)"
        ></ngx-infinite-scroll>
      }
    } @else {
      <p>Loading</p>
    }
  </div>
</div>
<acb-input (send)="send($event)" (abort)="abort()"></acb-input>
